(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"8CHC":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{}var i=e("pMnS"),r=e("9AJC"),a=e("dix8"),o=e("ufrD"),s=e("rBPF"),c=e("TI7v"),b=e("iInd");class d{}var p=u.ob({encapsulation:2,styles:[],data:{}});function g(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"eg-staff-banner",[["bannerText","Server Administration"]],null,null,null,a.b,a.a)),u.pb(1,49152,null,0,o.a,[],{bannerText:[0,"bannerText"]},null),(l()(),u.qb(2,0,null,null,148,"div",[["class","container"]],null,null,null,null,null)),(l()(),u.qb(3,0,null,null,147,"eg-link-table",[["columnCount","3"]],null,null,null,s.c,s.a)),u.pb(4,4243456,null,0,c.a,[],{columnCount:[0,"columnCount"]},null),(l()(),u.qb(5,0,null,null,2,"eg-link-table-link",[["label","Actor Stat Cat Sip Fields"],["routerLink","/staff/admin/server/actor/stat_cat_sip_fields"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,6).onClick()&&t),t}),s.d,s.b)),u.pb(6,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(7,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(8,0,null,null,2,"eg-link-table-link",[["label","Age Hold Protect Rules"],["routerLink","/staff/admin/server/config/rule_age_hold_protect"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,9).onClick()&&t),t}),s.d,s.b)),u.pb(9,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(10,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(11,0,null,null,2,"eg-link-table-link",[["label","Asset Stat Cat Sip Fields"],["routerLink","/staff/admin/server/asset/stat_cat_sip_fields"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,12).onClick()&&t),t}),s.d,s.b)),u.pb(12,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(13,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(14,0,null,null,2,"eg-link-table-link",[["label","Authority Browse Axes"],["routerLink","/staff/admin/server/authority/browse_axis"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,15).onClick()&&t),t}),s.d,s.b)),u.pb(15,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(16,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(17,0,null,null,2,"eg-link-table-link",[["label","Authority Control Sets"],["routerLink","/staff/admin/server/authority/control_set"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,18).onClick()&&t),t}),s.d,s.b)),u.pb(18,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(19,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(20,0,null,null,2,"eg-link-table-link",[["label","Authority Heading Fields"],["routerLink","/staff/admin/server/authority/heading_field"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,21).onClick()&&t),t}),s.d,s.b)),u.pb(21,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(22,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(23,0,null,null,2,"eg-link-table-link",[["label","Authority Thesauri"],["routerLink","/staff/admin/server/authority/thesaurus"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,24).onClick()&&t),t}),s.d,s.b)),u.pb(24,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(25,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(26,0,null,null,2,"eg-link-table-link",[["label","Best-Hold Selection Sort Order"],["routerLink","/staff/admin/server/config/best_hold_order"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,27).onClick()&&t),t}),s.d,s.b)),u.pb(27,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(28,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(29,0,null,null,2,"eg-link-table-link",[["label","Billing Types"],["routerLink","/staff/admin/server/config/billing_type"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,30).onClick()&&t),t}),s.d,s.b)),u.pb(30,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(31,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(32,0,null,null,2,"eg-link-table-link",[["label","Call Number Prefixes"],["routerLink","/staff/admin/server/asset/call_number_prefix"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,33).onClick()&&t),t}),s.d,s.b)),u.pb(33,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(34,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(35,0,null,null,2,"eg-link-table-link",[["label","Call Number Suffixes"],["routerLink","/staff/admin/server/asset/call_number_suffix"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,36).onClick()&&t),t}),s.d,s.b)),u.pb(36,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(37,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(38,0,null,null,2,"eg-link-table-link",[["label","Carousel Types"],["routerLink","/staff/admin/server/config/carousel_type"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,39).onClick()&&t),t}),s.d,s.b)),u.pb(39,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(40,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(41,0,null,null,2,"eg-link-table-link",[["label","Circulation Duration Rules"],["routerLink","/staff/admin/server/config/rule_circ_duration"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,42).onClick()&&t),t}),s.d,s.b)),u.pb(42,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(43,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(44,0,null,null,2,"eg-link-table-link",[["label","Circulation Limit Groups"],["routerLink","/staff/admin/server/config/circ_limit_group"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,45).onClick()&&t),t}),s.d,s.b)),u.pb(45,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(46,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(47,0,null,null,2,"eg-link-table-link",[["label","Circulation Matchpoint Weights"],["routerLink","/staff/admin/server/config/circ_matrix_weights"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,48).onClick()&&t),t}),s.d,s.b)),u.pb(48,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(49,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(50,0,null,null,2,"eg-link-table-link",[["label","Circulation Max Fine Rules"],["routerLink","/staff/admin/server/config/rule_max_fine"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,51).onClick()&&t),t}),s.d,s.b)),u.pb(51,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(52,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(53,0,null,null,2,"eg-link-table-link",[["label","Circulation Modifiers"],["routerLink","/staff/admin/server/config/circ_modifier"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,54).onClick()&&t),t}),s.d,s.b)),u.pb(54,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(55,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(56,0,null,null,2,"eg-link-table-link",[["label","Circulation Recurring Fine Rules"],["routerLink","/staff/admin/server/config/rule_recurring_fine"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,57).onClick()&&t),t}),s.d,s.b)),u.pb(57,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(58,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(59,0,null,null,1,"eg-link-table-link",[["label","Custom Org Unit Trees"],["url","/eg/staff/admin/server/actor/org_unit_custom_tree"]],null,null,null,s.d,s.b)),u.pb(60,114688,null,0,c.b,[c.a],{label:[0,"label"],url:[1,"url"]},null),(l()(),u.qb(61,0,null,null,2,"eg-link-table-link",[["label","Floating Groups"],["routerLink","/staff/admin/server/config/floating_group"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,62).onClick()&&t),t}),s.d,s.b)),u.pb(62,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(63,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(64,0,null,null,2,"eg-link-table-link",[["label","Global Flags"],["routerLink","/staff/admin/server/config/global_flag"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,65).onClick()&&t),t}),s.d,s.b)),u.pb(65,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(66,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(67,0,null,null,2,"eg-link-table-link",[["label","Hard Due Date Changes"],["routerLink","/staff/admin/server/config/hard_due_date"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,68).onClick()&&t),t}),s.d,s.b)),u.pb(68,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(69,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(70,0,null,null,2,"eg-link-table-link",[["label","Hold Matchpoint Weights"],["routerLink","/staff/admin/server/config/hold_matrix_weights"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,71).onClick()&&t),t}),s.d,s.b)),u.pb(71,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(72,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(73,0,null,null,2,"eg-link-table-link",[["label","Import Match Sets"],["routerLink","/staff/cat/vandelay/match_sets"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,74).onClick()&&t),t}),s.d,s.b)),u.pb(74,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(75,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(76,0,null,null,2,"eg-link-table-link",[["label","Item Statuses"],["routerLink","/staff/admin/server/config/copy_status"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,77).onClick()&&t),t}),s.d,s.b)),u.pb(77,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(78,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(79,0,null,null,2,"eg-link-table-link",[["label","Item Tag Types"],["routerLink","/staff/admin/server/config/copy_tag_type"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,80).onClick()&&t),t}),s.d,s.b)),u.pb(80,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(81,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(82,0,null,null,2,"eg-link-table-link",[["label","MARC Coded Value Maps"],["routerLink","/staff/admin/server/config/coded_value_map"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,83).onClick()&&t),t}),s.d,s.b)),u.pb(83,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(84,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(85,0,null,null,2,"eg-link-table-link",[["label","MARC Import Remove Fields"],["routerLink","/staff/admin/server/vandelay/import_bib_trash_group"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,86).onClick()&&t),t}),s.d,s.b)),u.pb(86,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(87,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(88,0,null,null,2,"eg-link-table-link",[["label","MARC Record Attributes"],["routerLink","/staff/admin/server/config/record_attr_definition"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,89).onClick()&&t),t}),s.d,s.b)),u.pb(89,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(90,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(91,0,null,null,2,"eg-link-table-link",[["label","MARC Search/Facet Class FTS Maps"],["routerLink","/staff/admin/server/config/metabib_class_ts_map"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,92).onClick()&&t),t}),s.d,s.b)),u.pb(92,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(93,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(94,0,null,null,2,"eg-link-table-link",[["label","MARC Search/Facet Classes"],["routerLink","/staff/admin/server/config/metabib_class"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,95).onClick()&&t),t}),s.d,s.b)),u.pb(95,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(96,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(97,0,null,null,2,"eg-link-table-link",[["label","MARC Search/Facet Field FTS Maps"],["routerLink","/staff/admin/server/config/metabib_field_ts_map"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,98).onClick()&&t),t}),s.d,s.b)),u.pb(98,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(99,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(100,0,null,null,2,"eg-link-table-link",[["label","MARC Search/Facet Fields"],["routerLink","/staff/admin/server/config/metabib_field"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,101).onClick()&&t),t}),s.d,s.b)),u.pb(101,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(102,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(103,0,null,null,2,"eg-link-table-link",[["label","MARC Tag Tables"],["routerLink","/staff/admin/server/config/marc_field"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,104).onClick()&&t),t}),s.d,s.b)),u.pb(104,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(105,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(106,0,null,null,2,"eg-link-table-link",[["label","Org Unit Proximity Adjustments"],["routerLink","/staff/admin/server/actor/org_unit_proximity_adjustment"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,107).onClick()&&t),t}),s.d,s.b)),u.pb(107,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(108,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(109,0,null,null,2,"eg-link-table-link",[["label","Org Unit Setting Types"],["routerLink","/staff/admin/server/config/org_unit_setting_type"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,110).onClick()&&t),t}),s.d,s.b)),u.pb(110,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(111,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(112,0,null,null,2,"eg-link-table-link",[["label","Organization Types"],["routerLink","/staff/admin/server/actor/org_unit_type"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,113).onClick()&&t),t}),s.d,s.b)),u.pb(113,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(114,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(115,0,null,null,2,"eg-link-table-link",[["label","Organizational Units"],["routerLink","/staff/admin/server/actor/org_unit"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,116).onClick()&&t),t}),s.d,s.b)),u.pb(116,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(117,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(118,0,null,null,2,"eg-link-table-link",[["label","Permission Groups"],["routerLink","/staff/admin/server/permission/grp_tree"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,119).onClick()&&t),t}),s.d,s.b)),u.pb(119,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(120,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(121,0,null,null,2,"eg-link-table-link",[["label","Permissions"],["routerLink","/staff/admin/server/permission/perm_list"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,122).onClick()&&t),t}),s.d,s.b)),u.pb(122,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(123,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(124,0,null,null,2,"eg-link-table-link",[["label","Print Templates"],["routerLink","/staff/admin/server/config/print_template"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,125).onClick()&&t),t}),s.d,s.b)),u.pb(125,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(126,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(127,0,null,null,2,"eg-link-table-link",[["label","Remote Accounts"],["routerLink","/staff/admin/server/config/remote_account"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,128).onClick()&&t),t}),s.d,s.b)),u.pb(128,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(129,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(130,0,null,null,2,"eg-link-table-link",[["label","Remote Authentication Profiles"],["routerLink","/staff/admin/server/config/remoteauth_profile"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,131).onClick()&&t),t}),s.d,s.b)),u.pb(131,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(132,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(133,0,null,null,2,"eg-link-table-link",[["label","SMS Carriers"],["routerLink","/staff/admin/server/config/sms_carrier"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,134).onClick()&&t),t}),s.d,s.b)),u.pb(134,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(135,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(136,0,null,null,2,"eg-link-table-link",[["label","User Activity Types"],["routerLink","/staff/admin/server/config/usr_activity_type"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,137).onClick()&&t),t}),s.d,s.b)),u.pb(137,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(138,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(139,0,null,null,2,"eg-link-table-link",[["label","User Setting Types"],["routerLink","/staff/admin/server/config/usr_setting_type"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,140).onClick()&&t),t}),s.d,s.b)),u.pb(140,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(141,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(142,0,null,null,2,"eg-link-table-link",[["label","Weights Association"],["routerLink","/staff/admin/server/config/weight_assoc"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,143).onClick()&&t),t}),s.d,s.b)),u.pb(143,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(144,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(145,0,null,null,2,"eg-link-table-link",[["label","Z39.50 Index Field Maps"],["routerLink","/staff/admin/server/config/z3950_index_field_map"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,146).onClick()&&t),t}),s.d,s.b)),u.pb(146,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(147,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null),(l()(),u.qb(148,0,null,null,2,"eg-link-table-link",[["label","Z39.50 Servers"],["routerLink","/staff/admin/server/config/z3950_source"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,149).onClick()&&t),t}),s.d,s.b)),u.pb(149,16384,null,0,b.m,[b.l,b.a,[8,null],u.C,u.k],{routerLink:[0,"routerLink"]},null),u.pb(150,114688,null,0,c.b,[c.a],{label:[0,"label"],routerLink:[1,"routerLink"]},null)],(function(l,n){l(n,1,0,"Server Administration"),l(n,4,0,"3"),l(n,6,0,"/staff/admin/server/actor/stat_cat_sip_fields"),l(n,7,0,"Actor Stat Cat Sip Fields","/staff/admin/server/actor/stat_cat_sip_fields"),l(n,9,0,"/staff/admin/server/config/rule_age_hold_protect"),l(n,10,0,"Age Hold Protect Rules","/staff/admin/server/config/rule_age_hold_protect"),l(n,12,0,"/staff/admin/server/asset/stat_cat_sip_fields"),l(n,13,0,"Asset Stat Cat Sip Fields","/staff/admin/server/asset/stat_cat_sip_fields"),l(n,15,0,"/staff/admin/server/authority/browse_axis"),l(n,16,0,"Authority Browse Axes","/staff/admin/server/authority/browse_axis"),l(n,18,0,"/staff/admin/server/authority/control_set"),l(n,19,0,"Authority Control Sets","/staff/admin/server/authority/control_set"),l(n,21,0,"/staff/admin/server/authority/heading_field"),l(n,22,0,"Authority Heading Fields","/staff/admin/server/authority/heading_field"),l(n,24,0,"/staff/admin/server/authority/thesaurus"),l(n,25,0,"Authority Thesauri","/staff/admin/server/authority/thesaurus"),l(n,27,0,"/staff/admin/server/config/best_hold_order"),l(n,28,0,"Best-Hold Selection Sort Order","/staff/admin/server/config/best_hold_order"),l(n,30,0,"/staff/admin/server/config/billing_type"),l(n,31,0,"Billing Types","/staff/admin/server/config/billing_type"),l(n,33,0,"/staff/admin/server/asset/call_number_prefix"),l(n,34,0,"Call Number Prefixes","/staff/admin/server/asset/call_number_prefix"),l(n,36,0,"/staff/admin/server/asset/call_number_suffix"),l(n,37,0,"Call Number Suffixes","/staff/admin/server/asset/call_number_suffix"),l(n,39,0,"/staff/admin/server/config/carousel_type"),l(n,40,0,"Carousel Types","/staff/admin/server/config/carousel_type"),l(n,42,0,"/staff/admin/server/config/rule_circ_duration"),l(n,43,0,"Circulation Duration Rules","/staff/admin/server/config/rule_circ_duration"),l(n,45,0,"/staff/admin/server/config/circ_limit_group"),l(n,46,0,"Circulation Limit Groups","/staff/admin/server/config/circ_limit_group"),l(n,48,0,"/staff/admin/server/config/circ_matrix_weights"),l(n,49,0,"Circulation Matchpoint Weights","/staff/admin/server/config/circ_matrix_weights"),l(n,51,0,"/staff/admin/server/config/rule_max_fine"),l(n,52,0,"Circulation Max Fine Rules","/staff/admin/server/config/rule_max_fine"),l(n,54,0,"/staff/admin/server/config/circ_modifier"),l(n,55,0,"Circulation Modifiers","/staff/admin/server/config/circ_modifier"),l(n,57,0,"/staff/admin/server/config/rule_recurring_fine"),l(n,58,0,"Circulation Recurring Fine Rules","/staff/admin/server/config/rule_recurring_fine"),l(n,60,0,"Custom Org Unit Trees","/eg/staff/admin/server/actor/org_unit_custom_tree"),l(n,62,0,"/staff/admin/server/config/floating_group"),l(n,63,0,"Floating Groups","/staff/admin/server/config/floating_group"),l(n,65,0,"/staff/admin/server/config/global_flag"),l(n,66,0,"Global Flags","/staff/admin/server/config/global_flag"),l(n,68,0,"/staff/admin/server/config/hard_due_date"),l(n,69,0,"Hard Due Date Changes","/staff/admin/server/config/hard_due_date"),l(n,71,0,"/staff/admin/server/config/hold_matrix_weights"),l(n,72,0,"Hold Matchpoint Weights","/staff/admin/server/config/hold_matrix_weights"),l(n,74,0,"/staff/cat/vandelay/match_sets"),l(n,75,0,"Import Match Sets","/staff/cat/vandelay/match_sets"),l(n,77,0,"/staff/admin/server/config/copy_status"),l(n,78,0,"Item Statuses","/staff/admin/server/config/copy_status"),l(n,80,0,"/staff/admin/server/config/copy_tag_type"),l(n,81,0,"Item Tag Types","/staff/admin/server/config/copy_tag_type"),l(n,83,0,"/staff/admin/server/config/coded_value_map"),l(n,84,0,"MARC Coded Value Maps","/staff/admin/server/config/coded_value_map"),l(n,86,0,"/staff/admin/server/vandelay/import_bib_trash_group"),l(n,87,0,"MARC Import Remove Fields","/staff/admin/server/vandelay/import_bib_trash_group"),l(n,89,0,"/staff/admin/server/config/record_attr_definition"),l(n,90,0,"MARC Record Attributes","/staff/admin/server/config/record_attr_definition"),l(n,92,0,"/staff/admin/server/config/metabib_class_ts_map"),l(n,93,0,"MARC Search/Facet Class FTS Maps","/staff/admin/server/config/metabib_class_ts_map"),l(n,95,0,"/staff/admin/server/config/metabib_class"),l(n,96,0,"MARC Search/Facet Classes","/staff/admin/server/config/metabib_class"),l(n,98,0,"/staff/admin/server/config/metabib_field_ts_map"),l(n,99,0,"MARC Search/Facet Field FTS Maps","/staff/admin/server/config/metabib_field_ts_map"),l(n,101,0,"/staff/admin/server/config/metabib_field"),l(n,102,0,"MARC Search/Facet Fields","/staff/admin/server/config/metabib_field"),l(n,104,0,"/staff/admin/server/config/marc_field"),l(n,105,0,"MARC Tag Tables","/staff/admin/server/config/marc_field"),l(n,107,0,"/staff/admin/server/actor/org_unit_proximity_adjustment"),l(n,108,0,"Org Unit Proximity Adjustments","/staff/admin/server/actor/org_unit_proximity_adjustment"),l(n,110,0,"/staff/admin/server/config/org_unit_setting_type"),l(n,111,0,"Org Unit Setting Types","/staff/admin/server/config/org_unit_setting_type"),l(n,113,0,"/staff/admin/server/actor/org_unit_type"),l(n,114,0,"Organization Types","/staff/admin/server/actor/org_unit_type"),l(n,116,0,"/staff/admin/server/actor/org_unit"),l(n,117,0,"Organizational Units","/staff/admin/server/actor/org_unit"),l(n,119,0,"/staff/admin/server/permission/grp_tree"),l(n,120,0,"Permission Groups","/staff/admin/server/permission/grp_tree"),l(n,122,0,"/staff/admin/server/permission/perm_list"),l(n,123,0,"Permissions","/staff/admin/server/permission/perm_list"),l(n,125,0,"/staff/admin/server/config/print_template"),l(n,126,0,"Print Templates","/staff/admin/server/config/print_template"),l(n,128,0,"/staff/admin/server/config/remote_account"),l(n,129,0,"Remote Accounts","/staff/admin/server/config/remote_account"),l(n,131,0,"/staff/admin/server/config/remoteauth_profile"),l(n,132,0,"Remote Authentication Profiles","/staff/admin/server/config/remoteauth_profile"),l(n,134,0,"/staff/admin/server/config/sms_carrier"),l(n,135,0,"SMS Carriers","/staff/admin/server/config/sms_carrier"),l(n,137,0,"/staff/admin/server/config/usr_activity_type"),l(n,138,0,"User Activity Types","/staff/admin/server/config/usr_activity_type"),l(n,140,0,"/staff/admin/server/config/usr_setting_type"),l(n,141,0,"User Setting Types","/staff/admin/server/config/usr_setting_type"),l(n,143,0,"/staff/admin/server/config/weight_assoc"),l(n,144,0,"Weights Association","/staff/admin/server/config/weight_assoc"),l(n,146,0,"/staff/admin/server/config/z3950_index_field_map"),l(n,147,0,"Z39.50 Index Field Maps","/staff/admin/server/config/z3950_index_field_map"),l(n,149,0,"/staff/admin/server/config/z3950_source"),l(n,150,0,"Z39.50 Servers","/staff/admin/server/config/z3950_source")}),null)}function f(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"ng-component",[],null,null,null,g,p)),u.pb(1,49152,null,0,d,[],null,null)],null,null)}var m=u.mb("ng-component",d,f,{},{},[]),h=e("StZw"),k=e("tNQm"),C=e("G8BM"),v=e("6rhm"),_=e("36iw"),q=e("G0yt"),L=e("7Apk"),y=e("UUQ6"),M=e("wBwE"),T=e("8PDw"),x=e("YRS1"),A=e("ZvpF"),D=e("iA0r"),S=e("yRwz"),I=e("d4sd"),w=e("SVse"),P=e("Mr7b"),K=e("cm5s");class O{constructor(l,n,e,u,t){this.idl=l,this.org=n,this.auth=e,this.pcrud=u,this.toast=t}ngOnInit(){this.loadAoutTree()}loadAoutTree(){this.pcrud.search("aout",{depth:0},{flesh:-1,flesh_fields:{aout:["children","org_units"]}},{anonymous:!0}).subscribe(l=>this.ingestAoutTree(l))}ingestAoutTree(l){const n=l=>{if(!l)return;const e=l.org_units().length;l.org_units(null);const u=new P.b({id:l.id(),label:l.name(),callerData:{aout:l,orgCount:e}});return l.children().forEach(l=>u.children.push(n(l))),u},e=n(l);this.tree=new P.a(e)}nodeClicked(l){this.selected=l}postUpdate(l){this.org.fetchOrgs().then(n=>{l.current().then(l=>this.toast.success(l))})}edit(){this.editDialog.mode="update",this.editDialog.setRecord(this.selected.callerData.aout),this.editDialog.open().subscribe(l=>{this.postUpdate(this.editString),this.loadAoutTree()},l=>{l&&l.dismissed||this.errorString.current().then(l=>this.toast.danger(l))})}remove(){this.delConfirm.open().subscribe(l=>{l&&this.pcrud.remove(this.selected.callerData.aout).subscribe(l=>{},l=>{this.errorString.current().then(l=>this.toast.danger(l))},()=>{this.loadAoutTree(),this.selected=null,this.postUpdate(this.editString)})})}addChild(){const l=this.selected.callerData.aout,n=this.idl.create("aout");n.parent(l.id()),n.depth(Number(l.depth())+1),this.editDialog.setRecord(n),this.editDialog.mode="create",this.editDialog.open().subscribe(l=>{new P.b({id:l.id(),label:l.name(),callerData:{aout:l,orgCount:0}}),this.loadAoutTree(),this.postUpdate(this.createString)},l=>{l&&l.dismissed||this.errorString.current().then(l=>this.toast.danger(l))})}}var F=u.ob({encapsulation:2,styles:[],data:{}});function U(l){return u.Mb(0,[(l()(),u.Kb(-1,null,["Org Unit Type Update Succeeded"]))],null,null)}function E(l){return u.Mb(0,[(l()(),u.Kb(-1,null,["Org Unit Type Succeessfully Created"]))],null,null)}function R(l){return u.Mb(0,[(l()(),u.Kb(-1,null,["Org Unit Type Update Failed"]))],null,null)}function G(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.qb(1,0,null,null,1,"div",[["class","alert alert-info font-italic"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,[" Select an org unit type from the tree on the left. "]))],null,null)}function N(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,47,"div",[["class","common-form striped-even"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,2,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),u.qb(3,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Actions for Selected: "])),(l()(),u.qb(5,0,null,null,6,"div",[["class","col-lg-9"]],null,null,null,null,null)),(l()(),u.qb(6,0,null,null,1,"button",[["class","btn btn-info mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.edit()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Edit"])),(l()(),u.qb(8,0,null,null,1,"button",[["class","btn btn-info mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChild()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Add Child"])),(l()(),u.qb(10,0,null,null,1,"button",[["class","btn btn-warning mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.remove()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Delete"])),(l()(),u.qb(12,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(13,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(14,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Name: "])),(l()(),u.qb(16,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(17,null,[" "," "])),(l()(),u.qb(18,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(19,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(20,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Label: "])),(l()(),u.qb(22,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(23,null,[" "," "])),(l()(),u.qb(24,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(25,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(26,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Can Have Users: "])),(l()(),u.qb(28,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(29,null,[" "," "])),(l()(),u.qb(30,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(31,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(32,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Can Have Holdings: "])),(l()(),u.qb(34,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(35,null,[" "," "])),(l()(),u.qb(36,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(37,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(38,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Depth: "])),(l()(),u.qb(40,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(41,null,[" "," "])),(l()(),u.qb(42,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(43,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(44,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Number of Org Units Of This Type: "])),(l()(),u.qb(46,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(47,null,[" "," "]))],null,(function(l,n){var e=n.component;l(n,10,0,e.selected.callerData.aout.children().length>0||e.selected.callerData.orgCount>0),l(n,17,0,e.selected.callerData.aout.name()),l(n,23,0,e.selected.callerData.aout.opac_label()),l(n,29,0,"t"==e.selected.callerData.aout.can_have_users()),l(n,35,0,"t"==e.selected.callerData.aout.can_have_vols()),l(n,41,0,e.selected.callerData.aout.depth()),l(n,47,0,e.selected.callerData.orgCount)}))}function H(l){return u.Mb(0,[u.Ib(402653184,1,{editDialog:0}),u.Ib(402653184,2,{editString:0}),u.Ib(402653184,3,{createString:0}),u.Ib(402653184,4,{errorString:0}),u.Ib(402653184,5,{delConfirm:0}),(l()(),u.qb(5,0,null,null,1,"eg-staff-banner",[["bannerText","Org Unit Type Configuration"]],null,null,null,a.b,a.a)),u.pb(6,49152,null,0,o.a,[],{bannerText:[0,"bannerText"]},null),(l()(),u.fb(0,[["editStrTmpl",2]],null,0,null,U)),(l()(),u.qb(8,0,null,null,1,"eg-string",[],null,null,null,h.b,h.a)),u.pb(9,114688,[[2,4],["editString",4]],0,k.a,[u.k,C.a],{template:[0,"template"]},null),(l()(),u.fb(0,[["createStrTmpl",2]],null,0,null,E)),(l()(),u.qb(11,0,null,null,1,"eg-string",[],null,null,null,h.b,h.a)),u.pb(12,114688,[[3,4],["createString",4]],0,k.a,[u.k,C.a],{template:[0,"template"]},null),(l()(),u.fb(0,[["errorStrTmpl",2]],null,0,null,R)),(l()(),u.qb(14,0,null,null,1,"eg-string",[],null,null,null,h.b,h.a)),u.pb(15,114688,[[4,4],["errorString",4]],0,k.a,[u.k,C.a],{template:[0,"template"]},null),(l()(),u.qb(16,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Confirm Delete"]],null,null,null,v.b,v.a)),u.pb(17,114688,[[5,4],["delConfirm",4]],0,_.a,[q.E],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),u.qb(18,0,null,null,4,"eg-fm-record-editor",[["idlClass","aout"],["readonlyFields","depth,parent"]],null,null,null,L.b,L.a)),u.pb(19,114688,[[1,4],["editDialog",4]],0,y.a,[q.E,M.a,T.a,x.a,A.a,D.a],{idlClass:[0,"idlClass"],fieldOptions:[1,"fieldOptions"],readonlyFields:[2,"readonlyFields"]},null),u.Fb(20,{isRequired:0}),u.Fb(21,{isRequired:0}),u.Fb(22,{name:0,opac_label:1}),(l()(),u.qb(23,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(24,0,null,null,4,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(25,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Org Unit Types"])),(l()(),u.qb(27,0,null,null,1,"eg-tree",[],null,[[null,"nodeClicked"]],(function(l,n,e){var u=!0;return"nodeClicked"===n&&(u=!1!==l.component.nodeClicked(e)&&u),u}),S.b,S.a)),u.pb(28,114688,null,0,I.a,[],{tree:[0,"tree"]},{nodeClicked:"nodeClicked"}),(l()(),u.qb(29,0,null,null,6,"div",[["class","col-lg-8"]],null,null,null,null,null)),(l()(),u.qb(30,0,null,null,1,"h3",[["class","mb-3"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Selected Org Unit Type"])),(l()(),u.fb(16777216,null,null,1,null,G)),u.pb(33,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,null,1,null,N)),u.pb(35,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,6,0,"Org Unit Type Configuration"),l(n,9,0,u.Cb(n,7)),l(n,12,0,u.Cb(n,10)),l(n,15,0,u.Cb(n,13)),l(n,17,0,"Confirm Delete",u.ub(1,"Delete Org Unit Type ",e.selected?e.selected.label:"","?"));var t=l(n,22,0,l(n,20,0,!0),l(n,21,0,!0));l(n,19,0,"aout",t,"depth,parent"),l(n,28,0,e.tree),l(n,33,0,!e.selected),l(n,35,0,e.selected)}),null)}function j(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"ng-component",[],null,null,null,H,F)),u.pb(1,114688,null,0,O,[M.a,K.a,T.a,D.a,x.a],null,null)],(function(l,n){l(n,1,0)}),null)}var z=u.mb("ng-component",O,j,{},{},[]),$=e("nUl2"),B=e("s7LF"),J=e("9rfo"),V=e("OXuP"),W=e("WZ78"),Z=e("ayJW"),Y=e("cUpR"),X=e("4D8R"),Q=e("UjDu"),ll=e("lJxs"),nl=e("E45d"),el=e("A9LY"),ul=e("HWmW");class tl{constructor(l,n,e,u,t,i,r,a){this.route=l,this.idl=n,this.org=e,this.pcrud=u,this.auth=t,this.locale=i,this.printer=r,this.samples=a,this.invalidJson=!1,this.templateCache={},this.sampleData={patron_address:{},holds_for_bib:{}},this.entries=[],this.localeEntries=[]}ngOnInit(){this.initialOrg=this.auth.user().ws_ou(),this.selectedOrgs=[this.initialOrg],this.localeCode=this.locale.currentLocaleCode(),this.locale.supportedLocales().subscribe(l=>this.localeEntries.push({id:l.code(),label:l.name()})),this.setTemplateInfo().subscribe(),this.fleshSampleData()}fleshSampleData(){const l={};["au","ac","aua","ahr","acp","mwde"].forEach(n=>l[n]=this.idl.toHash(this.samples.listOfThings(n,10)));const n=[{request_time:this.samples.randomDate().toISOString(),ucard_barcode:l.ac[0].barcode,usr_family_name:l.au[0].family_name,usr_alias:l.au[0].alias,cp_barcode:l.acp[0].barcode},{request_time:this.samples.randomDate().toISOString(),ucard_barcode:l.ac[1].barcode,usr_family_name:l.au[1].family_name,usr_alias:l.au[1].alias,cp_barcode:l.acp[1].barcode}];this.sampleData.patron_address={patron:l.au[0],address:l.aua[0]},this.sampleData.holds_for_bib=n}onTabChange(l){"template"===l.nextId&&this.refreshPreview()}container(){return document.getElementById("template-preview-pane")}orgOnChange(l){this.sameIds(this.selectedOrgs,l.orgIds)||(this.selectedOrgs=l.orgIds,this.setTemplateInfo().subscribe())}sameIds(l,n){if(l.length!==n.length)return!1;for(let e=0;e<l.length;e++)if(!n.includes(l[e]))return!1;return!0}localeOnChange(l){l&&(this.localeCode=l,this.setTemplateInfo().subscribe())}setTemplateInfo(){return this.entries=[],this.template=null,this.templateSelector.applyEntryId(null),this.compiledContent="",this.pcrud.search("cpt",{owner:this.selectedOrgs,locale:this.localeCode},{select:{cpt:["id","label","owner"]},order_by:{cpt:"label"}}).pipe(Object(ll.a)(l=>(this.templateCache[l.id()]=l,this.entries.push({id:l.id(),label:l.label()}),l)))}getOwnerName(l){return this.templateCache[l]?this.org.get(this.templateCache[l].owner()).shortname():""}selectTemplate(l,n){if(null===l)return this.template=null,void(this.compiledContent="");this.pcrud.retrieve("cpt",l).subscribe(e=>{this.template=this.templateCache[l]=e,n&&(this.templateSelector.hasEntry(l)||this.templateSelector.addEntry({id:l,label:e.label()}),this.templateSelector.applyEntryId(l));const u=this.sampleData[e.name()];u&&(this.sampleJson=JSON.stringify(u,null,2),this.refreshPreview())})}templateRowCount(){return this.template&&this.template.template()?Math.max(25,this.template.template().split(/\n/).length+2):25}refreshPreview(){if(!this.sampleJson)return;let l;this.compiledContent="";try{l=JSON.parse(this.sampleJson),this.invalidJson=!1}catch(n){this.invalidJson=!0}this.printer.compileRemoteTemplate({templateId:this.template.id(),contextData:l,printContext:"default"}).then(l=>{this.compiledContent=l.content,this.container()&&(this.container().innerHTML="text/html"===l.contentType?l.content:"<pre>"+l.content+"</pre>")})}applyChanges(){this.container().innerHTML="",this.pcrud.update(this.template).toPromise().then(()=>this.refreshPreview())}openEditDialog(){this.editDialog.setRecord(this.template),this.editDialog.mode="update",this.editDialog.open({size:"lg"}).toPromise().then(l=>{if(void 0!==l){const l=this.template.id();this.setTemplateInfo().toPromise().then(n=>this.selectTemplate(l))}})}cloneTemplate(){const l=this.idl.clone(this.template);l.id(null),l.active(!1),l.owner(null),this.editDialog.setRecord(l),this.editDialog.mode="create",this.editDialog.open({size:"lg"}).toPromise().then(l=>{void 0!==l&&this.setTemplateInfo().toPromise().then(n=>this.selectTemplate(l.id(),!0))})}deleteTemplate(){this.confirmDelete.open().subscribe(l=>{l&&this.pcrud.remove(this.template).toPromise().then(l=>{this.setTemplateInfo().toPromise().then(l=>this.selectTemplate(null))})})}}var il=u.ob({encapsulation:2,styles:[],data:{}});function rl(l){return u.Mb(0,[(l()(),u.Kb(0,null,[" "," (",") "]))],null,(function(l,n){l(n,0,0,n.context.result.label,n.component.getOwnerName(n.context.result.id))}))}function al(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,7,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,6,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),u.qb(3,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Locale"])),(l()(),u.qb(5,0,null,null,2,"eg-combobox",[],null,[[null,"onChange"]],(function(l,n,e){var u=!0;return"onChange"===n&&(u=!1!==l.component.localeOnChange(e?e.id:null)&&u),u}),$.b,$.a)),u.Hb(5120,null,B.o,(function(l){return[l]}),[J.a]),u.pb(7,114688,null,0,J.a,[u.k,V.a,M.a,D.a],{startId:[0,"startId"],entries:[1,"entries"]},{onChange:"onChange"})],(function(l,n){var e=n.component;l(n,7,0,e.localeCode,e.localeEntries)}),null)}function ol(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"span",[["class","badge badge-danger ml-2"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,[" Invalid Sample JSON! "]))],null,null)}function sl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"span",[["class","pl-2 text-warning"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,[" (Inactive) "]))],null,null)}function cl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,11,"div",[["class","col-lg-12 mt-3 d-flex"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openEditDialog()&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Edit Template Attributes "])),(l()(),u.qb(4,0,null,null,1,"button",[["class","btn btn-success ml-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.applyChanges()&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Save Template Changes "])),(l()(),u.qb(6,0,null,null,1,"button",[["class","btn btn-info ml-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.cloneTemplate()&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Clone Template "])),(l()(),u.qb(8,0,null,null,0,"div",[["class","flex-1"]],null,null,null,null,null)),(l()(),u.qb(9,0,null,null,1,"button",[["class","btn btn-danger ml-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteTemplate()&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Delete Template "])),(l()(),u.fb(16777216,null,null,1,null,ol)),u.pb(12,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(13,0,null,null,21,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),u.qb(14,0,null,null,11,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),u.qb(15,0,null,null,3,"h4",[],null,null,null,null,null)),(l()(),u.Kb(16,null,[' Template for "'," (",')" '])),(l()(),u.fb(16777216,null,null,1,null,sl)),u.pb(18,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(19,0,null,null,6,"textarea",[["class","form-control"],["spellcheck","false"]],[[8,"rows",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,i=l.component;return"input"===n&&(t=!1!==u.Cb(l,20)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Cb(l,20).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Cb(l,20)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Cb(l,20)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(i.template.template(e),t=!1!==i.template.ischanged(!0)&&t),t}),null,null)),u.pb(20,16384,null,0,B.d,[u.C,u.k,[2,B.a]],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.d]),u.pb(22,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(24,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.Kb(-1,null,["         "])),(l()(),u.qb(26,0,null,null,8,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),u.qb(27,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Preview"])),(l()(),u.qb(29,0,null,null,0,"div",[["class","border border-dark w-100"],["id","template-preview-pane"]],null,null,null,null,null)),(l()(),u.qb(30,0,null,null,1,"h4",[["class","mt-3"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Compiled Content"])),(l()(),u.qb(32,0,null,null,2,"div",[["class","border border-dark w-100"]],null,null,null,null,null)),(l()(),u.qb(33,0,null,null,1,"pre",[["class","p-1"]],null,null,null,null,null)),(l()(),u.Kb(34,null,["",""]))],(function(l,n){var e=n.component;l(n,12,0,e.invalidJson),l(n,18,0,"f"==e.template.active()),l(n,22,0,e.template.template())}),(function(l,n){var e=n.component;l(n,16,0,e.template.label(),e.getOwnerName(e.template.id())),l(n,19,0,u.ub(1,"",e.templateRowCount(),""),u.Cb(n,24).ngClassUntouched,u.Cb(n,24).ngClassTouched,u.Cb(n,24).ngClassPristine,u.Cb(n,24).ngClassDirty,u.Cb(n,24).ngClassValid,u.Cb(n,24).ngClassInvalid,u.Cb(n,24).ngClassPending),l(n,34,0,e.compiledContent)}))}function bl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,6,"textarea",[["class","form-control"],["rows","20"],["spellcheck","false"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,i=l.component;return"input"===n&&(t=!1!==u.Cb(l,1)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Cb(l,1).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Cb(l,1)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Cb(l,1)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.sampleJson=e)&&t),t}),null,null)),u.pb(1,16384,null,0,B.d,[u.C,u.k,[2,B.a]],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.d]),u.pb(3,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(5,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.Kb(-1,null,["      "]))],(function(l,n){l(n,3,0,n.component.sampleJson)}),(function(l,n){l(n,0,0,u.Cb(n,5).ngClassUntouched,u.Cb(n,5).ngClassTouched,u.Cb(n,5).ngClassPristine,u.Cb(n,5).ngClassDirty,u.Cb(n,5).ngClassValid,u.Cb(n,5).ngClassInvalid,u.Cb(n,5).ngClassPending)}))}function dl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,14,"ngb-tabset",[],null,[[null,"tabChange"]],(function(l,n,e){var u=!0;return"tabChange"===n&&(u=!1!==l.component.onTabChange(e)&&u),u}),r.k,r.f)),u.pb(1,2146304,[[2,4],["tabs",4]],1,q.eb,[q.fb],null,{tabChange:"tabChange"}),u.Ib(603979776,5,{tabs:1}),(l()(),u.qb(3,0,null,null,5,"ngb-tab",[["id","template"],["title","Template"]],null,null,null,null,null)),u.pb(4,2113536,[[5,4]],2,q.bb,[],{id:[0,"id"],title:[1,"title"]},null),u.Ib(603979776,6,{titleTpls:1}),u.Ib(603979776,7,{contentTpls:1}),(l()(),u.fb(0,null,null,1,null,cl)),u.pb(8,16384,[[7,4]],0,q.cb,[u.K],null,null),(l()(),u.qb(9,0,null,null,5,"ngb-tab",[["id","data"],["title","Sample Data"]],null,null,null,null,null)),u.pb(10,2113536,[[5,4]],2,q.bb,[],{id:[0,"id"],title:[1,"title"]},null),u.Ib(603979776,8,{titleTpls:1}),u.Ib(603979776,9,{contentTpls:1}),(l()(),u.fb(0,null,null,1,null,bl)),u.pb(14,16384,[[9,4]],0,q.cb,[u.K],null,null)],(function(l,n){l(n,4,0,"template","Template"),l(n,10,0,"data","Sample Data")}),null)}function pl(l){return u.Mb(0,[u.Ib(402653184,1,{templateSelector:0}),u.Ib(671088640,2,{tabs:0}),u.Ib(402653184,3,{editDialog:0}),u.Ib(402653184,4,{confirmDelete:0}),(l()(),u.qb(4,0,null,null,1,"eg-title",[["prefix","Print Template Administration"]],null,null,null,W.b,W.a)),u.pb(5,4243456,null,0,Z.a,[Y.h],{prefix:[0,"prefix"]},null),(l()(),u.qb(6,0,null,null,1,"eg-staff-banner",[["bannerText","Print Template Administration"]],null,null,null,a.b,a.a)),u.pb(7,49152,null,0,o.a,[],{bannerText:[0,"bannerText"]},null),(l()(),u.qb(8,0,null,null,1,"eg-fm-record-editor",[["hiddenFields","template"],["idlClass","cpt"]],null,null,null,L.b,L.a)),u.pb(9,114688,[[3,4],["editDialog",4]],0,y.a,[q.E,M.a,T.a,x.a,A.a,D.a],{idlClass:[0,"idlClass"],hiddenFields:[1,"hiddenFields"],preloadLinkedValues:[2,"preloadLinkedValues"]},null),(l()(),u.qb(10,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Confirm Delete?"]],null,null,null,v.b,v.a)),u.pb(11,114688,[[4,4],["confirmDelete",4]],0,_.a,[q.E],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),u.qb(12,0,null,null,19,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.qb(13,0,null,null,7,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(14,0,null,null,6,"eg-org-family-select",[["labelText","Owner"],["ngModel",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==l.component.orgOnChange(e)&&u),u}),X.b,X.a)),u.pb(15,114688,null,0,Q.a,[T.a,K.a],{labelText:[0,"labelText"],selectedOrgId:[1,"selectedOrgId"],limitPerms:[2,"limitPerms"]},null),u.Db(16,1),u.Hb(1024,null,B.o,(function(l){return[l]}),[Q.a]),u.pb(18,671744,[["orgFamily",4]],0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(20,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.qb(21,0,null,null,8,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),u.qb(22,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),u.qb(23,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),u.qb(24,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Template"])),(l()(),u.fb(0,[["entryTemplate",2]],null,0,null,rl)),(l()(),u.qb(27,0,null,null,2,"eg-combobox",[],null,[[null,"onChange"]],(function(l,n,e){var u=!0;return"onChange"===n&&(u=!1!==l.component.selectTemplate(e?e.id:null)&&u),u}),$.b,$.a)),u.Hb(5120,null,B.o,(function(l){return[l]}),[J.a]),u.pb(29,114688,[[1,4],["templateSelector",4]],0,J.a,[u.k,V.a,M.a,D.a],{entries:[0,"entries"],displayTemplate:[1,"displayTemplate"]},{onChange:"onChange"}),(l()(),u.fb(16777216,null,null,1,null,al)),u.pb(31,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,null,1,null,dl)),u.pb(33,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,5,0,"Print Template Administration"),l(n,7,0,"Print Template Administration"),l(n,9,0,"cpt","template",!0),l(n,11,0,"Confirm Delete?",u.ub(1,"Delete Template '",e.template?e.template.label():"","'?"));var t=e.initialOrg,i=l(n,16,0,"ADMIN_PRINT_TEMPLATE");l(n,15,0,"Owner",t,i),l(n,18,0,""),l(n,29,0,e.entries,u.Cb(n,26)),l(n,31,0,e.localeEntries.length>0),l(n,33,0,e.template)}),(function(l,n){l(n,14,0,u.Cb(n,20).ngClassUntouched,u.Cb(n,20).ngClassTouched,u.Cb(n,20).ngClassPristine,u.Cb(n,20).ngClassDirty,u.Cb(n,20).ngClassValid,u.Cb(n,20).ngClassInvalid,u.Cb(n,20).ngClassPending)}))}function gl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"ng-component",[],null,null,null,pl,il)),u.pb(1,114688,null,0,tl,[b.a,M.a,K.a,D.a,T.a,el.a,nl.a,ul.a],null,null)],(function(l,n){l(n,1,0)}),null)}var fl=u.mb("ng-component",tl,gl,{},{},[]),ml=e("RvO3"),hl=e("TxlL"),kl=e("5UYh"),Cl=e("LZHW"),vl=e("EY2u"),_l=e("Cfvw"),ql=e("z6cu"),Ll=e("rRT/");class yl extends Ll.a{constructor(l,n,e){super(e),this.idl=l,this.pcrud=n,this.modal=e}ngOnInit(){this.depth=0,this.grantable=!1,this.permissions=this.permissions.sort((l,n)=>l.code()<n.code()?-1:1),this.onOpen$.subscribe(()=>this.trimPermissions()),this.permEntries=l=>{if(null==l)return Object(vl.b)();l=(""+l).toLowerCase();const n=[];return this.trimmedPerms.forEach(e=>{(e.code().toLowerCase().includes(l)||(e.description()||"").toLowerCase().includes(l))&&n.push({id:e.id(),label:e.code()})}),Object(_l.a)(n)}}trimPermissions(){this.trimmedPerms=[],this.permissions.forEach(l=>{for(let n=0;n<this.permMaps.length;n++){const e=this.permMaps[n];if(e.perm().id()===l.id()&&e.grp().id()===this.permGroup.id())return}this.trimmedPerms.push(l)})}create(){const l=this.idl.create("pgpm");l.grp(this.permGroup.id()),l.perm(this.perm),l.grantable(this.grantable?"t":"f"),l.depth(this.depth),this.pcrud.create(l).subscribe(l=>this.close(l),l=>Object(ql.a)(l))}}var Ml=u.ob({encapsulation:2,styles:[],data:{}});function Tl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,3,"option",[],null,null,null,null,null)),u.pb(1,147456,null,0,B.u,[u.k,u.C,[2,B.z]],{value:[0,"value"]},null),u.pb(2,147456,null,0,B.F,[u.k,u.C,[8,null]],{value:[0,"value"]},null),(l()(),u.Kb(3,null,["",""]))],(function(l,n){l(n,1,0,u.ub(1,"",n.context.$implicit,"")),l(n,2,0,u.ub(1,"",n.context.$implicit,""))}),(function(l,n){l(n,3,0,n.context.$implicit)}))}function xl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,5,"div",[["class","modal-header bg-info"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Add New Permission Group Mapping"])),(l()(),u.qb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.close()&&u),u}),null,null)),(l()(),u.qb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["×"])),(l()(),u.qb(6,0,null,null,34,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.qb(7,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(8,0,null,null,1,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Permission Group"])),(l()(),u.qb(10,0,null,null,1,"div",[["class","col-lg-7"]],null,null,null,null,null)),(l()(),u.Kb(11,null,["",""])),(l()(),u.qb(12,0,null,null,6,"div",[["class","row mt-1 pt-1"]],null,null,null,null,null)),(l()(),u.qb(13,0,null,null,1,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["New Permission"])),(l()(),u.qb(15,0,null,null,3,"div",[["class","col-lg-7"]],null,null,null,null,null)),(l()(),u.qb(16,0,null,null,2,"eg-combobox",[],null,[[null,"onChange"]],(function(l,n,e){var u=!0;return"onChange"===n&&(u=!1!==(l.component.perm=e?e.id:null)&&u),u}),$.b,$.a)),u.Hb(5120,null,B.o,(function(l){return[l]}),[J.a]),u.pb(18,114688,null,0,J.a,[u.k,V.a,M.a,D.a],{asyncDataSource:[0,"asyncDataSource"]},{onChange:"onChange"}),(l()(),u.qb(19,0,null,null,11,"div",[["class","row mt-1 pt-1"]],null,null,null,null,null)),(l()(),u.qb(20,0,null,null,1,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Depth"])),(l()(),u.qb(22,0,null,null,8,"div",[["class","col-lg-7"]],null,null,null,null,null)),(l()(),u.qb(23,0,null,null,7,"select",[["class","p-1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var t=!0,i=l.component;return"change"===n&&(t=!1!==u.Cb(l,24).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u.Cb(l,24).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(i.depth=e)&&t),t}),null,null)),u.pb(24,16384,null,0,B.z,[u.C,u.k],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.z]),u.pb(26,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(28,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.fb(16777216,null,null,1,null,Tl)),u.pb(30,278528,null,0,w.o,[u.N,u.K,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(31,0,null,null,9,"div",[["class","row mt-1 pt-1"]],null,null,null,null,null)),(l()(),u.qb(32,0,null,null,1,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Grantable"])),(l()(),u.qb(34,0,null,null,6,"div",[["class","col-lg-7"]],null,null,null,null,null)),(l()(),u.qb(35,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var t=!0,i=l.component;return"change"===n&&(t=!1!==u.Cb(l,36).onChange(e.target.checked)&&t),"blur"===n&&(t=!1!==u.Cb(l,36).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(i.grantable=e)&&t),t}),null,null)),u.pb(36,16384,null,0,B.b,[u.C,u.k],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.b]),u.pb(38,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(40,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.qb(41,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.qb(42,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.create()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Create"])),(l()(),u.qb(44,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.close()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,18,0,e.permEntries),l(n,26,0,e.depth),l(n,30,0,e.orgDepths),l(n,38,0,e.grantable)}),(function(l,n){l(n,11,0,n.component.permGroup.name()),l(n,23,0,u.Cb(n,28).ngClassUntouched,u.Cb(n,28).ngClassTouched,u.Cb(n,28).ngClassPristine,u.Cb(n,28).ngClassDirty,u.Cb(n,28).ngClassValid,u.Cb(n,28).ngClassInvalid,u.Cb(n,28).ngClassPending),l(n,35,0,u.Cb(n,40).ngClassUntouched,u.Cb(n,40).ngClassTouched,u.Cb(n,40).ngClassPristine,u.Cb(n,40).ngClassDirty,u.Cb(n,40).ngClassValid,u.Cb(n,40).ngClassInvalid,u.Cb(n,40).ngClassPending)}))}function Al(l){return u.Mb(0,[u.Ib(671088640,1,{dialogContent:0}),(l()(),u.fb(0,[[1,2],["dialogContent",2]],null,0,null,xl))],null,null)}var Dl=e("mrSG");class Sl{constructor(l,n,e,u,t){this.idl=l,this.org=n,this.auth=e,this.pcrud=u,this.toast=t,this.permissions=[],this.permEntries=[],this.permMaps=[],this.permIdMap={}}ngOnInit(){return Object(Dl.a)(this,void 0,void 0,(function*(){return this.loading=!0,yield this.loadPgtTree(),this.loadProgress.increment(),yield this.loadPermissions(),this.loadProgress.increment(),yield this.loadPermMaps(),this.loadProgress.increment(),this.setOrgDepths(),this.loadProgress.increment(),this.loading=!1,Promise.resolve()}))}setOrgDepths(){const l=this.org.typeList().map(l=>Number(l.depth())),n=[];l.forEach(l=>{n.includes(l)||n.push(l)}),this.orgDepths=n.sort()}groupPermMaps(){if(!this.selected)return[];let l=this.inheritedPermissions();return l=l.concat(this.permMaps.filter(l=>+l.grp().id()==+this.selected.id)),l=this.applyFilter(l),l.sort((l,n)=>l.perm().code()<n.perm().code()?-1:1)}applyFilter(l){if(!this.filterText)return l;const n=this.filterText.toLowerCase().split(" ");return l.filter(l=>{const e=l.perm().description()||"",u=l.perm().code().toLowerCase()+" "+e.toLowerCase();for(let t=0;t<n.length;t++){const l=n[t];if(l&&-1===u.indexOf(l))return!1}return!0})}loadPgtTree(){return Object(Dl.a)(this,void 0,void 0,(function*(){return this.pcrud.search("pgt",{parent:null},{flesh:-1,flesh_fields:{pgt:["children"]}}).pipe(Object(ll.a)(l=>this.ingestPgtTree(l))).toPromise()}))}loadPermissions(){return Object(Dl.a)(this,void 0,void 0,(function*(){return this.pcrud.retrieveAll("ppl",{order_by:{ppl:"code"}}).pipe(Object(ll.a)(l=>{this.loadProgress.increment(),this.permissions.push(l),this.permEntries.push({id:l.code(),label:l.code()}),this.permissions.forEach(l=>this.permIdMap[+l.id()]=l)})).toPromise()}))}loadPermMaps(){return Object(Dl.a)(this,void 0,void 0,(function*(){return this.permMaps=[],this.pcrud.retrieveAll("pgpm",{},{fleshSelectors:!0,authoritative:!0}).pipe(Object(ll.a)(l=>{this.loadProgress.increment(),this.permMaps.push(l)})).toPromise()}))}fmEditorOptions(){return{application_perm:{customValues:this.permEntries}}}ingestPgtTree(l){const n=l=>{if(!l)return;const e=new P.b({id:l.id(),label:l.name(),callerData:l});return l.children().sort((l,n)=>l.name()<n.name()?-1:1).forEach(l=>e.children.push(n(l))),e},e=n(l);this.tree=new P.a(e)}groupById(l){return this.tree.findNode(l).callerData}permById(l){return this.permIdMap[l]}permIsInherited(l){return l.grp().id()!==this.selected.callerData.id()}inheritedPermissions(){let l=[],n=this.tree.findNode(this.selected.callerData.parent());for(;n;)l=l.concat(this.permMaps.filter(l=>+l.grp().id()==+n.id)),n=this.tree.findNode(n.callerData.parent());return l}nodeClicked(l){this.selected=l,this.permMaps.forEach(l=>{l.isnew(!1),l.ischanged(!1),l.isdeleted(!1)})}edit(){this.editDialog.mode="update",this.editDialog.setRecord(this.selected.callerData),this.editDialog.open({size:"lg"}).subscribe(l=>{this.successString.current().then(l=>this.toast.success(l))},l=>{this.errorString.current().then(l=>this.toast.danger(l))})}remove(){this.delConfirm.open().subscribe(l=>{l&&this.pcrud.remove(this.selected.callerData).subscribe(l=>{},l=>{this.errorString.current().then(l=>this.toast.danger(l))},()=>{this.tree.removeNode(this.selected),this.selected=null,this.successString.current().then(l=>this.toast.success(l))})})}addChild(){const l=this.selected,n=l.callerData,e=this.idl.create("pgt");e.parent(n.id()),this.editDialog.setRecord(e),this.editDialog.mode="create",this.editDialog.open({size:"lg"}).subscribe(n=>{const e=new P.b({id:n.id(),label:n.name(),callerData:n});l.children.push(e),this.createString.current().then(l=>this.toast.success(l))},l=>{this.errorString.current().then(l=>this.toast.danger(l))})}changesPending(){return this.modifiedMaps().length>0}modifiedMaps(){return this.permMaps.filter(l=>l.isnew()||l.ischanged()||l.isdeleted())}applyChanges(){const l=this.modifiedMaps().map(l=>this.idl.clone(l));l.forEach(l=>{l.grp(l.grp().id()),l.perm(l.perm().id())}),this.pcrud.autoApply(l).subscribe(l=>console.debug("Modified one mapping: ",l),l=>{console.error(l),this.errorMapString.current().then(l=>this.toast.danger(l))},()=>{this.successMapString.current().then(l=>this.toast.success(l)),this.loadPermMaps()})}openAddDialog(){this.addMappingDialog.open().subscribe(l=>{this.createMapString.current().then(l=>this.toast.success(l)),this.loadPermMaps()})}selectGroup(l){const n=this.tree.findNode(l);this.tree.selectNode(n),this.nodeClicked(n)}}var Il=u.ob({encapsulation:2,styles:[],data:{}});function wl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),u.qb(1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,2,"div",[["class","col-lg-6"]],null,null,null,null,null)),(l()(),u.qb(3,0,null,null,1,"eg-progress-inline",[],null,null,null,ml.b,ml.a)),u.pb(4,49152,[[10,4],["loadProgress",4]],0,hl.a,[],null,null)],null,null)}function Pl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),u.qb(1,0,null,null,1,"div",[["class","alert alert-info font-italic"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,[" Select a permission group from the tree on the left. "])),(l()(),u.fb(16777216,null,null,1,null,wl)),u.pb(4,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(0,null,null,0))],(function(l,n){l(n,4,0,n.component.loading)}),null)}function Kl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,2,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Actions for Selected: "])),(l()(),u.qb(4,0,null,null,6,"div",[["class","col-lg-9"]],null,null,null,null,null)),(l()(),u.qb(5,0,null,null,1,"button",[["class","btn btn-info mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.edit()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Edit"])),(l()(),u.qb(7,0,null,null,1,"button",[["class","btn btn-info mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChild()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Add Child"])),(l()(),u.qb(9,0,null,null,1,"button",[["class","btn btn-warning mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.remove()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Delete"])),(l()(),u.qb(11,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(12,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(13,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Name: "])),(l()(),u.qb(15,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(16,null,[" "," "])),(l()(),u.qb(17,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(18,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(19,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Description: "])),(l()(),u.qb(21,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(22,null,[" "," "])),(l()(),u.qb(23,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(24,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(25,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["User Expiration Interval: "])),(l()(),u.qb(27,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(28,null,[" "," "])),(l()(),u.qb(29,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(30,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(31,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Application Permission: "])),(l()(),u.qb(33,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(34,null,[" "," "])),(l()(),u.qb(35,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(36,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(37,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Hold Priority: "])),(l()(),u.qb(39,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(40,null,[" "," "])),(l()(),u.qb(41,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(42,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(43,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["User Group?: "])),(l()(),u.qb(45,0,null,null,1,"div",[["class","col-lg-8 font-weight-bold"]],null,null,null,null,null)),(l()(),u.Kb(46,null,[" "," "]))],null,(function(l,n){var e=n.component;l(n,16,0,e.selected.callerData.name()),l(n,22,0,e.selected.callerData.description()),l(n,28,0,e.selected.callerData.perm_interval()),l(n,34,0,e.selected.callerData.application_perm()),l(n,40,0,e.selected.callerData.hold_priority()),l(n,46,0,"t"==e.selected.callerData.usergroup())}))}function Ol(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,11,null,null,null,null,null,null,null)),(l()(),u.qb(1,0,null,null,2,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,1,"button",[["class","btn btn-link m-0 p-0"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.selectGroup(l.parent.context.$implicit.grp().id())&&u),u}),null,null)),(l()(),u.Kb(3,null,[" "," "])),(l()(),u.qb(4,0,null,null,1,"div",[["class","col-lg-1 text-center"]],null,null,null,null,null)),(l()(),u.Kb(5,null,["",""])),(l()(),u.qb(6,0,null,null,3,"div",[["class","col-lg-1 d-flex flex-column justify-content-center"]],null,null,null,null,null)),(l()(),u.qb(7,0,null,null,2,"div",[["class","d-flex justify-content-center p-1 rounded"]],null,null,null,null,null)),(l()(),u.qb(8,0,null,null,1,"eg-bool",[],null,null,null,kl.b,kl.a)),u.pb(9,49152,null,0,Cl.a,[],{value:[0,"value"]},null),(l()(),u.qb(10,0,null,null,1,"div",[["class","col-lg-1 font-italic"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Inherited"]))],(function(l,n){var e="t"==n.parent.context.$implicit.grantable();l(n,9,0,e)}),(function(l,n){var e=n.parent.context.$implicit.grp().name();l(n,3,0,e);var u=n.parent.context.$implicit.depth();l(n,5,0,u)}))}function Fl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,3,"option",[],null,null,null,null,null)),u.pb(1,147456,null,0,B.u,[u.k,u.C,[2,B.z]],{value:[0,"value"]},null),u.pb(2,147456,null,0,B.F,[u.k,u.C,[8,null]],{value:[0,"value"]},null),(l()(),u.Kb(3,null,["",""]))],(function(l,n){l(n,1,0,u.ub(1,"",n.context.$implicit,"")),l(n,2,0,u.ub(1,"",n.context.$implicit,""))}),(function(l,n){l(n,3,0,n.context.$implicit)}))}function Ul(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.Kb(1,null,["",""])),(l()(),u.qb(2,0,null,null,8,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),u.qb(3,0,null,null,7,"select",[["class","p-1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==u.Cb(l,4).onChange(e.target.value)&&t),"blur"===n&&(t=!1!==u.Cb(l,4).onTouched()&&t),"ngModelChange"===n&&(l.parent.context.$implicit.depth(e),t=!1!==l.parent.context.$implicit.ischanged(!0)&&t),t}),null,null)),u.pb(4,16384,null,0,B.z,[u.C,u.k],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.z]),u.pb(6,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(8,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.fb(16777216,null,null,1,null,Fl)),u.pb(10,278528,null,0,w.o,[u.N,u.K,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(11,0,null,null,7,"div",[["class","col-lg-1 d-flex flex-column justify-content-center"]],null,null,null,null,null)),(l()(),u.qb(12,0,null,null,6,"div",[["class","d-flex justify-content-center p-1 rounded border border-info"]],null,null,null,null,null)),(l()(),u.qb(13,0,null,null,5,"input",[["class","align-middle"],["title","Grantable?"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==u.Cb(l,14).onChange(e.target.checked)&&t),"blur"===n&&(t=!1!==u.Cb(l,14).onTouched()&&t),"ngModelChange"===n&&(l.parent.context.$implicit.grantable(e?"t":"f"),t=!1!==l.parent.context.$implicit.ischanged(!0)&&t),t}),null,null)),u.pb(14,16384,null,0,B.b,[u.C,u.k],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.b]),u.pb(16,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(18,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.qb(19,0,null,null,7,"div",[["class","col-lg-1 d-flex flex-column justify-content-center"]],null,null,null,null,null)),(l()(),u.qb(20,0,null,null,6,"div",[["class","d-flex justify-content-center p-1 rounded border border-danger"]],null,null,null,null,null)),(l()(),u.qb(21,0,null,null,5,"input",[["class","align-middle"],["title","Delete Mapping"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==u.Cb(l,22).onChange(e.target.checked)&&t),"blur"===n&&(t=!1!==u.Cb(l,22).onTouched()&&t),"ngModelChange"===n&&(t=!1!==l.parent.context.$implicit.isdeleted(e)&&t),t}),null,null)),u.pb(22,16384,null,0,B.b,[u.C,u.k],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.b]),u.pb(24,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(26,16384,null,0,B.q,[[4,B.p]],null,null)],(function(l,n){var e=n.component,u=n.parent.context.$implicit.depth();l(n,6,0,u),l(n,10,0,e.orgDepths);var t="t"==n.parent.context.$implicit.grantable();l(n,16,0,t);var i=n.parent.context.$implicit.isdeleted();l(n,24,0,i)}),(function(l,n){var e=n.parent.context.$implicit.grp().name();l(n,1,0,e),l(n,3,0,u.Cb(n,8).ngClassUntouched,u.Cb(n,8).ngClassTouched,u.Cb(n,8).ngClassPristine,u.Cb(n,8).ngClassDirty,u.Cb(n,8).ngClassValid,u.Cb(n,8).ngClassInvalid,u.Cb(n,8).ngClassPending),l(n,13,0,u.Cb(n,18).ngClassUntouched,u.Cb(n,18).ngClassTouched,u.Cb(n,18).ngClassPristine,u.Cb(n,18).ngClassDirty,u.Cb(n,18).ngClassValid,u.Cb(n,18).ngClassInvalid,u.Cb(n,18).ngClassPending),l(n,21,0,u.Cb(n,26).ngClassUntouched,u.Cb(n,26).ngClassTouched,u.Cb(n,26).ngClassPristine,u.Cb(n,26).ngClassDirty,u.Cb(n,26).ngClassValid,u.Cb(n,26).ngClassInvalid,u.Cb(n,26).ngClassPending)}))}function El(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),u.Hb(512,null,w.N,w.O,[u.r,u.s,u.k,u.C]),u.pb(2,278528,null,0,w.n,[w.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Fb(3,{"bg-warning":0}),(l()(),u.qb(4,0,null,null,2,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),u.qb(5,0,null,null,1,"span",[],[[8,"title",0]],null,null,null,null)),(l()(),u.Kb(6,null,[" "," "])),(l()(),u.fb(16777216,null,null,1,null,Ol)),u.pb(8,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u.fb(0,[["nativeMap",2]],null,0,null,Ul))],(function(l,n){var e=n.component,t=l(n,3,0,n.context.$implicit.isdeleted());l(n,2,0,"row",t),l(n,8,0,e.permIsInherited(n.context.$implicit),u.Cb(n,9))}),(function(l,n){var e=u.ub(1,"",n.context.$implicit.perm().description()||n.context.$implicit.perm().code(),"");l(n,5,0,e);var t=n.context.$implicit.perm().code();l(n,6,0,t)}))}function Rl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,13,"div",[["class","row d-flex m-2 mb-3"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.applyChanges()&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Apply Changes "])),(l()(),u.qb(3,0,null,null,1,"button",[["class","btn btn-info ml-3"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openAddDialog()&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Add New Mapping "])),(l()(),u.qb(5,0,null,null,6,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),u.qb(6,0,null,null,5,"input",[["class","form-control ml-2"],["placeholder","Filter..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,i=l.component;return"input"===n&&(t=!1!==u.Cb(l,7)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Cb(l,7).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Cb(l,7)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Cb(l,7)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.filterText=e)&&t),t}),null,null)),u.pb(7,16384,null,0,B.d,[u.C,u.k,[2,B.a]],null,null),u.Hb(1024,null,B.o,(function(l){return[l]}),[B.d]),u.pb(9,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,B.p,null,[B.t]),u.pb(11,16384,null,0,B.q,[[4,B.p]],null,null),(l()(),u.qb(12,0,null,null,1,"button",[["class","btn btn-outline-secondary ml-1"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==(l.component.filterText="")&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Clear "])),(l()(),u.qb(14,0,null,null,10,"div",[["class","row font-weight-bold"]],null,null,null,null,null)),(l()(),u.qb(15,0,null,null,1,"div",[["class","col-lg-5"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Permissions"])),(l()(),u.qb(17,0,null,null,1,"div",[["class","col-lg-4"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Group"])),(l()(),u.qb(19,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Depth"])),(l()(),u.qb(21,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Grantable?"])),(l()(),u.qb(23,0,null,null,1,"div",[["class","col-lg-1"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Delete?"])),(l()(),u.fb(16777216,null,null,1,null,El)),u.pb(26,278528,null,0,w.o,[u.N,u.K,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(27,0,null,null,2,"div",[["class","row d-flex m-2 mb-3"]],null,null,null,null,null)),(l()(),u.qb(28,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.applyChanges()&&u),u}),null,null)),(l()(),u.Kb(-1,null,[" Apply Changes "]))],(function(l,n){var e=n.component;l(n,9,0,e.filterText),l(n,26,0,e.groupPermMaps())}),(function(l,n){var e=n.component;l(n,1,0,!e.changesPending()),l(n,6,0,u.Cb(n,11).ngClassUntouched,u.Cb(n,11).ngClassTouched,u.Cb(n,11).ngClassPristine,u.Cb(n,11).ngClassDirty,u.Cb(n,11).ngClassValid,u.Cb(n,11).ngClassInvalid,u.Cb(n,11).ngClassPending),l(n,28,0,!e.changesPending())}))}function Gl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,15,"div",[["class","common-form striped-even"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,14,"ngb-tabset",[],null,null,null,r.k,r.f)),u.pb(2,2146304,null,1,q.eb,[q.fb],null,null),u.Ib(603979776,11,{tabs:1}),(l()(),u.qb(4,0,null,null,5,"ngb-tab",[["id","detail"],["title","Group Details"]],null,null,null,null,null)),u.pb(5,2113536,[[11,4]],2,q.bb,[],{id:[0,"id"],title:[1,"title"]},null),u.Ib(603979776,12,{titleTpls:1}),u.Ib(603979776,13,{contentTpls:1}),(l()(),u.fb(0,null,null,1,null,Kl)),u.pb(9,16384,[[13,4]],0,q.cb,[u.K],null,null),(l()(),u.qb(10,0,null,null,5,"ngb-tab",[["id","perm"],["title","Group Permissions"]],null,null,null,null,null)),u.pb(11,2113536,[[11,4]],2,q.bb,[],{id:[0,"id"],title:[1,"title"]},null),u.Ib(603979776,14,{titleTpls:1}),u.Ib(603979776,15,{contentTpls:1}),(l()(),u.fb(0,null,null,1,null,Rl)),u.pb(15,16384,[[15,4]],0,q.cb,[u.K],null,null)],(function(l,n){l(n,5,0,"detail","Group Details"),l(n,11,0,"perm","Group Permissions")}),null)}function Nl(l){return u.Mb(0,[u.Ib(402653184,1,{editDialog:0}),u.Ib(402653184,2,{delConfirm:0}),u.Ib(402653184,3,{successString:0}),u.Ib(402653184,4,{createString:0}),u.Ib(402653184,5,{errorString:0}),u.Ib(402653184,6,{successMapString:0}),u.Ib(402653184,7,{createMapString:0}),u.Ib(402653184,8,{errorMapString:0}),u.Ib(402653184,9,{addMappingDialog:0}),u.Ib(671088640,10,{loadProgress:0}),(l()(),u.qb(10,0,null,null,1,"eg-staff-banner",[["bannerText","Permission Group Configuration"]],null,null,null,a.b,a.a)),u.pb(11,49152,null,0,o.a,[],{bannerText:[0,"bannerText"]},null),(l()(),u.qb(12,0,null,null,1,"eg-string",[["text","Permission Group Mapping Added"]],null,null,null,h.b,h.a)),u.pb(13,114688,[[4,4],["createString",4]],0,k.a,[u.k,C.a],{text:[0,"text"]},null),(l()(),u.qb(14,0,null,null,1,"eg-string",[["text","Permission Group Update Succeeded"]],null,null,null,h.b,h.a)),u.pb(15,114688,[[3,4],["successString",4]],0,k.a,[u.k,C.a],{text:[0,"text"]},null),(l()(),u.qb(16,0,null,null,1,"eg-string",[["text","Permission Group Update Failed"]],null,null,null,h.b,h.a)),u.pb(17,114688,[[5,4],["errorString",4]],0,k.a,[u.k,C.a],{text:[0,"text"]},null),(l()(),u.qb(18,0,null,null,1,"eg-string",[["text","Permission Group Mapping Added"]],null,null,null,h.b,h.a)),u.pb(19,114688,[[7,4],["createMapString",4]],0,k.a,[u.k,C.a],{text:[0,"text"]},null),(l()(),u.qb(20,0,null,null,1,"eg-string",[["text","Permission Group Mapping Update Succeeded"]],null,null,null,h.b,h.a)),u.pb(21,114688,[[6,4],["successMapString",4]],0,k.a,[u.k,C.a],{text:[0,"text"]},null),(l()(),u.qb(22,0,null,null,1,"eg-string",[["text","Permission Group Mapping Update Failed"]],null,null,null,h.b,h.a)),u.pb(23,114688,[[8,4],["errorMapString",4]],0,k.a,[u.k,C.a],{text:[0,"text"]},null),(l()(),u.qb(24,0,null,null,1,"eg-fm-record-editor",[["idlClass","pgt"],["readonlyFields","parent"]],null,null,null,L.b,L.a)),u.pb(25,114688,[[1,4],["editDialog",4]],0,y.a,[q.E,M.a,T.a,x.a,A.a,D.a],{idlClass:[0,"idlClass"],fieldOptions:[1,"fieldOptions"],readonlyFields:[2,"readonlyFields"]},null),(l()(),u.qb(26,0,null,null,1,"eg-confirm-dialog",[["dialogTitle","Confirm Delete"]],null,null,null,v.b,v.a)),u.pb(27,114688,[[2,4],["delConfirm",4]],0,_.a,[q.E],{dialogTitle:[0,"dialogTitle"],dialogBody:[1,"dialogBody"]},null),(l()(),u.qb(28,0,null,null,1,"eg-perm-group-map-dialog",[],null,null,null,Al,Ml)),u.pb(29,114688,[[9,4],["addMappingDialog",4]],0,yl,[M.a,D.a,q.E],{permGroup:[0,"permGroup"],permissions:[1,"permissions"],permMaps:[2,"permMaps"],orgDepths:[3,"orgDepths"]},null),(l()(),u.qb(30,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.qb(31,0,null,null,4,"div",[["class","col-lg-3"]],null,null,null,null,null)),(l()(),u.qb(32,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Permission Groups"])),(l()(),u.qb(34,0,null,null,1,"eg-tree",[],null,[[null,"nodeClicked"]],(function(l,n,e){var u=!0;return"nodeClicked"===n&&(u=!1!==l.component.nodeClicked(e)&&u),u}),S.b,S.a)),u.pb(35,114688,null,0,I.a,[],{tree:[0,"tree"]},{nodeClicked:"nodeClicked"}),(l()(),u.qb(36,0,null,null,6,"div",[["class","col-lg-9"]],null,null,null,null,null)),(l()(),u.qb(37,0,null,null,1,"h3",[["class","mb-3"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Selected Permission Group"])),(l()(),u.fb(16777216,null,null,1,null,Pl)),u.pb(40,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,null,1,null,Gl)),u.pb(42,16384,null,0,w.p,[u.N,u.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,11,0,"Permission Group Configuration"),l(n,13,0,"Permission Group Mapping Added"),l(n,15,0,"Permission Group Update Succeeded"),l(n,17,0,"Permission Group Update Failed"),l(n,19,0,"Permission Group Mapping Added"),l(n,21,0,"Permission Group Mapping Update Succeeded"),l(n,23,0,"Permission Group Mapping Update Failed"),l(n,25,0,"pgt",e.fmEditorOptions(),"parent"),l(n,27,0,"Confirm Delete",u.ub(1,"Delete Permission Group ",e.selected?e.selected.label:"","?")),l(n,29,0,e.selected?e.selected.callerData:null,e.permissions,e.groupPermMaps(),e.orgDepths),l(n,35,0,e.tree),l(n,40,0,!e.selected),l(n,42,0,e.selected)}),null)}function Hl(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"ng-component",[],null,null,null,Nl,Il)),u.pb(1,114688,null,0,Sl,[M.a,K.a,T.a,D.a,x.a],null,null)],(function(l,n){l(n,1,0)}),null)}var jl=u.mb("ng-component",Sl,Hl,{},{},[]),zl=e("n2ZT"),$l=e("EWr9"),Bl=e("XKii"),Jl=e("Osig"),Vl=e("LMfH"),Wl=e("EQoe"),Zl=e("mW9/"),Yl=e("avZ9"),Xl=e("pKmL"),Ql=e("9RLy"),ln=e("VEwP"),nn=e("NR/D"),en=e("r2N+"),un=e("ZqI7"),tn=e("MhCk"),rn=e("MZHd"),an=e("EBEo"),on=e("zF8d"),sn=e("csFu"),cn=e("9eSZ"),bn=e("GLCv"),dn=e("chSS");const pn=[{schema:"actor",table:"org_unit_proximity_adjustment",disableOrgFilter:!0}],gn=[{schema:"asset",table:"call_number_prefix",readonlyFields:"label_sortkey"}],fn=[{schema:"asset",table:"call_number_suffix",readonlyFields:"label_sortkey"}];class mn{}var hn=e("tNs6");e.d(n,"AdminServerModuleNgFactory",(function(){return kn}));var kn=u.nb(t,[],(function(l){return u.zb([u.Ab(512,u.j,u.Y,[[8,[i.a,r.a,r.b,r.p,r.q,r.m,r.n,r.o,m,z,fl,jl,zl.a]],[3,u.j],u.w]),u.Ab(4608,w.r,w.q,[u.t,[2,w.S]]),u.Ab(4608,B.D,B.D,[]),u.Ab(4608,B.g,B.g,[]),u.Ab(4608,q.E,q.E,[u.j,u.q,q.Fb,q.F]),u.Ab(4608,w.f,w.f,[u.t]),u.Ab(4608,w.d,w.d,[u.t]),u.Ab(4608,C.a,C.a,[]),u.Ab(4608,$l.a,$l.a,[K.a]),u.Ab(4608,Bl.a,Bl.a,[M.a,Jl.b,K.a,$l.a,D.a]),u.Ab(4608,Vl.a,Vl.a,[Jl.b,D.a,V.a,Wl.a]),u.Ab(4608,Zl.a,Zl.a,[M.a,Jl.b,K.a,$l.a,D.a,Bl.a,Vl.a]),u.Ab(4608,Yl.a,Yl.a,[K.a]),u.Ab(4608,ul.a,ul.a,[M.a]),u.Ab(1073742336,w.c,w.c,[]),u.Ab(1073742336,B.C,B.C,[]),u.Ab(1073742336,B.l,B.l,[]),u.Ab(1073742336,B.x,B.x,[]),u.Ab(1073742336,b.o,b.o,[[2,b.t],[2,b.l]]),u.Ab(1073742336,q.c,q.c,[]),u.Ab(1073742336,q.f,q.f,[]),u.Ab(1073742336,q.g,q.g,[]),u.Ab(1073742336,q.k,q.k,[]),u.Ab(1073742336,q.l,q.l,[]),u.Ab(1073742336,q.t,q.t,[]),u.Ab(1073742336,q.z,q.z,[]),u.Ab(1073742336,q.G,q.G,[]),u.Ab(1073742336,q.I,q.I,[]),u.Ab(1073742336,q.N,q.N,[]),u.Ab(1073742336,q.U,q.U,[]),u.Ab(1073742336,q.X,q.X,[]),u.Ab(1073742336,q.ab,q.ab,[]),u.Ab(1073742336,q.gb,q.gb,[]),u.Ab(1073742336,q.lb,q.lb,[]),u.Ab(1073742336,q.ob,q.ob,[]),u.Ab(1073742336,q.rb,q.rb,[]),u.Ab(1073742336,q.ub,q.ub,[]),u.Ab(1073742336,q.H,q.H,[]),u.Ab(1073742336,Xl.a,Xl.a,[]),u.Ab(1073742336,Ql.a,Ql.a,[]),u.Ab(1073742336,ln.a,ln.a,[]),u.Ab(1073742336,nn.a,nn.a,[]),u.Ab(1073742336,en.a,en.a,[]),u.Ab(1073742336,un.a,un.a,[]),u.Ab(1073742336,tn.a,tn.a,[]),u.Ab(1073742336,rn.a,rn.a,[]),u.Ab(1073742336,an.a,an.a,[]),u.Ab(1073742336,on.a,on.a,[]),u.Ab(1073742336,sn.a,sn.a,[]),u.Ab(1073742336,cn.a,cn.a,[]),u.Ab(1073742336,bn.a,bn.a,[]),u.Ab(1073742336,mn,mn,[]),u.Ab(1073742336,hn.a,hn.a,[]),u.Ab(1073742336,t,t,[]),u.Ab(1024,b.j,(function(){return[[{path:"splash",component:d},{path:"actor/org_unit_type",component:O},{path:"config/floating_group",loadChildren:"@eg/staff/admin/server/floating-group/floating-group.module#FloatingGroupModule"},{path:"config/print_template",component:tl},{path:"permission/grp_tree",component:Sl},{path:"actor/org_unit",loadChildren:"@eg/staff/admin/server/org-unit.module#OrgUnitModule"},{path:"actor/org_unit_proximity_adjustment",component:dn.a,data:pn},{path:"asset/call_number_prefix",component:dn.a,data:gn},{path:"asset/call_number_suffix",component:dn.a,data:fn},{path:":schema/:table",component:dn.a}]]}),[])])}))}}]);